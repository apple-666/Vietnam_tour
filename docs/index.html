<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>越南胡志明旅游</title>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- 自定义样式 -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- 头部 -->
        <header class="header">
            <div class="header-content">
                <div class="header-left">
                    <h1>🇻🇳 越南胡志明旅游</h1>
                    <div class="trip-info">
                        <span class="badge">VN4D-250123</span>
                        <span class="date">2026年1月23日-26日</span>
                    </div>
                    <div class="data-version" id="dataVersion"></div>
                </div>
                <div class="header-right">
                    <!-- 时间显示 -->
                    <div class="time-display">
                        <div class="time-item">
                            <span class="time-label">🇨🇳 上海</span>
                            <span class="time-value" id="shanghaiTime">--:--:--</span>
                        </div>
                        <div class="time-divider"></div>
                        <div class="time-item">
                            <span class="time-label">🇻🇳 胡志明</span>
                            <span class="time-value" id="hcmcTime">--:--:--</span>
                        </div>
                    </div>

                    <!-- 货币换算器 -->
                    <div class="currency-converter">
                        <div class="input-wrapper">
                            <input type="number" id="vndInput" class="currency-input" placeholder="3500" oninput="convertVNDtoCNY()">
                            <span class="currency-unit">越南盾</span>
                        </div>
                        <div class="currency-divider">=</div>
                        <div class="input-wrapper">
                            <input type="number" id="cnyInput" class="currency-input" placeholder="1" oninput="convertCNYtoVND()">
                            <span class="currency-unit">人民币</span>
                        </div>
                    </div>

                    <!-- 浏览量和点赞 -->
                    <div class="stats-display">
                        <div class="stat-item" title="总浏览量">
                            <span class="stat-icon">✨</span>
                            <span class="stat-value" id="viewCount">0</span>
                            <span class="stat-label">浏览</span>
                        </div>
                        <div class="stat-divider"></div>
                        <div class="stat-item clickable" id="likeBtn" title="点击点赞">
                            <span class="stat-icon">⭐</span>
                            <span class="stat-value" id="likeCount">0</span>
                            <span class="stat-label">点赞</span>
                        </div>
                    </div>

                    <!-- PDF 下载按钮 -->
                    <a href="../20260123【上海往返】胡志明4天纯玩（出团通知书）.pdf" download class="pdf-download-btn" title="下载完整行程单">
                        📄 详细行程单（由若男提供）
                    </a>

                    <!-- 版权信息 -->
                    <div class="copyright">© 2026 Double Apple (小鹏)</div>
                </div>
            </div>
        </header>

        <!-- 主内容区 -->
        <div class="main-content">
            <!-- 侧边栏 -->
            <aside class="sidebar">
                <!-- 航班信息 -->
                <div class="panel">
                    <h3>✈️ 航班信息</h3>
                    <div id="flightInfo"></div>
                </div>

                <!-- 酒店信息 -->
                <div class="panel">
                    <h3>🏨 住宿酒店</h3>
                    <div id="hotelList"></div>
                </div>

                <!-- 行程概览 -->
                <div class="panel">
                    <h3>📅 行程概览</h3>
                    <div class="itinerary-list" id="itineraryList"></div>
                </div>

                <!-- 详细时间表 -->
                <div class="panel">
                    <h3>🕘 详细时间表</h3>
                    <div id="detailSchedule"></div>
                </div>

                <!-- 注意事项 -->
                <div class="panel">
                    <h3>⚠️ 重要提示</h3>
                    <div class="tips-list" id="tipsList"></div>
                </div>

                <!-- 紧急联系方式 -->
                <div class="panel">
                    <h3>📞 紧急联系</h3>
                    <div id="emergencyContacts"></div>
                </div>

                <!-- 汇率信息 -->
                <div class="panel">
                    <h3>💱 汇率参考</h3>
                    <div id="exchangeRate"></div>
                </div>
            </aside>

            <!-- 地图容器 -->
            <div class="map-container">
                <!-- 快速定位工具栏 -->
                <div class="location-toolbar">
                    <label for="locationSelect">📍 快速定位：</label>
                    <select id="locationSelect" class="location-select" onchange="focusLocation(this.value)">
                        <option value="">-- 选择要查看的地点 --</option>
                    </select>
                    <div class="toolbar-buttons">
                        <button onclick="fitAllMarkers()" class="toolbar-btn" title="显示全部地点">🔍 显示全部</button>
                        <button onclick="toggleDayRoute()" class="toolbar-btn" title="显示/隐藏游览路线">🛤️ 显示路线</button>
                    </div>
                </div>
                <div id="map"></div>
            </div>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- 数据文件 -->
    <script src="data.js"></script>

    <!-- 主应用 - 已支持离线瓦片（本地优先，在线备用） -->
    <script src="app.js"></script>
</body>
</html>
