<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¶Šå—èƒ¡å¿—æ˜æ—…æ¸¸</title>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- è‡ªå®šä¹‰æ ·å¼ -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- å¤´éƒ¨ -->
        <header class="header">
            <div class="header-content">
                <div class="header-left">
                    <h1>ğŸ‡»ğŸ‡³ è¶Šå—èƒ¡å¿—æ˜æ—…æ¸¸</h1>
                    <div class="trip-info">
                        <span class="badge">VN4D-250123</span>
                        <span class="date">2026å¹´1æœˆ23æ—¥-26æ—¥</span>
                    </div>
                    <div class="data-version" id="dataVersion"></div>
                </div>
                <div class="header-right">
                    <div class="time-display">
                        <div class="time-item">
                            <span class="time-label">ğŸ‡¨ğŸ‡³ ä¸Šæµ·</span>
                            <span class="time-value" id="shanghaiTime">--:--:--</span>
                        </div>
                        <div class="time-divider"></div>
                        <div class="time-item">
                            <span class="time-label">ğŸ‡»ğŸ‡³ èƒ¡å¿—æ˜</span>
                            <span class="time-value" id="hcmcTime">--:--:--</span>
                        </div>
                    </div>
                    <div class="copyright">Â© 2026 Double Apple (å°é¹)</div>
                </div>
            </div>
        </header>

        <!-- ä¸»å†…å®¹åŒº -->
        <div class="main-content">
            <!-- ä¾§è¾¹æ  -->
            <aside class="sidebar">
                <!-- èˆªç­ä¿¡æ¯ -->
                <div class="panel">
                    <h3>âœˆï¸ èˆªç­ä¿¡æ¯</h3>
                    <div id="flightInfo"></div>
                </div>

                <!-- é…’åº—ä¿¡æ¯ -->
                <div class="panel">
                    <h3>ğŸ¨ ä½å®¿é…’åº—</h3>
                    <div id="hotelList"></div>
                </div>

                <!-- è¡Œç¨‹æ¦‚è§ˆ -->
                <div class="panel">
                    <h3>ğŸ“… è¡Œç¨‹æ¦‚è§ˆ</h3>
                    <div class="itinerary-list" id="itineraryList"></div>
                </div>

                <!-- è¯¦ç»†æ—¶é—´è¡¨ -->
                <div class="panel">
                    <h3>ğŸ•˜ è¯¦ç»†æ—¶é—´è¡¨</h3>
                    <div id="detailSchedule"></div>
                </div>

                <!-- æ³¨æ„äº‹é¡¹ -->
                <div class="panel">
                    <h3>âš ï¸ é‡è¦æç¤º</h3>
                    <div class="tips-list" id="tipsList"></div>
                </div>

                <!-- ç´§æ€¥è”ç³»æ–¹å¼ -->
                <div class="panel">
                    <h3>ğŸ“ ç´§æ€¥è”ç³»</h3>
                    <div id="emergencyContacts"></div>
                </div>
            </aside>

            <!-- åœ°å›¾å®¹å™¨ -->
            <div class="map-container">
                <!-- å¿«é€Ÿå®šä½å·¥å…·æ  -->
                <div class="location-toolbar">
                    <label for="locationSelect">ğŸ“ å¿«é€Ÿå®šä½ï¼š</label>
                    <select id="locationSelect" class="location-select" onchange="focusLocation(this.value)">
                        <option value="">-- é€‰æ‹©è¦æŸ¥çœ‹çš„åœ°ç‚¹ --</option>
                    </select>
                    <div class="toolbar-buttons">
                        <button onclick="fitAllMarkers()" class="toolbar-btn" title="æ˜¾ç¤ºå…¨éƒ¨åœ°ç‚¹">ğŸ” æ˜¾ç¤ºå…¨éƒ¨</button>
                        <button onclick="toggleDayRoute()" class="toolbar-btn" title="æ˜¾ç¤º/éšè—æ¸¸è§ˆè·¯çº¿">ğŸ›¤ï¸ æ˜¾ç¤ºè·¯çº¿</button>
                    </div>
                </div>
                <div id="map"></div>
            </div>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- æ•°æ®æ–‡ä»¶ -->
    <script src="data.js"></script>

    <!-- ä¸»åº”ç”¨ -->
    <script src="app.js"></script>

    <!-- åˆå§‹åŒ–åº”ç”¨ - ç¡®ä¿åœ¨æ‰€æœ‰èµ„æºåŠ è½½åæ‰§è¡Œ -->
    <script>
        // ä½¿ç”¨ window.load ç¡®ä¿æ‰€æœ‰èµ„æºï¼ˆåŒ…æ‹¬å›¾ç‰‡ã€æ ·å¼ï¼‰éƒ½åŠ è½½å®Œæˆ
        window.addEventListener('load', function() {
            console.log('Window loaded, initializing app...');
            if (typeof initializeApp === 'function') {
                initializeApp();
            } else {
                console.error('initializeApp function not found!');
            }
        });
    </script>
</body>
</html>
