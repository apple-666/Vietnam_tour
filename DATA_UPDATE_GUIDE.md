# 📊 数据更新指南

## 🎯 概述

本旅游助手应用的所有数据都存储在 `data/data.js` 文件中。当您更新此文件后，需要刷新页面才能看到最新数据。

---

## 📁 数据文件位置

```
data/data.js  - 包含所有旅游数据（酒店、景点、行程、提示等）
```

---

## 🔄 数据更新流程

### 步骤 1: 更新数据文件

1. 打开 `data/data.js`
2. 修改您需要更新的数据
3. **重要**: 更新数据版本号和更新时间

```javascript
// 在文件顶部修改这两行
const DATA_VERSION = '1.0.1';  // 修改版本号（例如：1.0.0 → 1.0.1）
const DATA_LAST_UPDATED = '2026-01-21 22:00:00';  // 修改为当前时间
```

### 步骤 2: 刷新页面

更新数据后，在浏览器中：
- 按 **F5** 键
- 或按 **Ctrl+R** (Windows) / **Cmd+R** (Mac)

页面顶部会显示当前数据版本和更新时间，方便您确认数据是否已更新。

---

## 📋 可更新的数据字段

### 1. 航班信息
在 `tourData.itinerary[0].activities` 和 `tourData.itinerary[3].activities` 中更新

### 2. 酒店信息
```javascript
tourData.hotels = [
    {
        id: 'hotel-1',
        name: '酒店名称',
        address: '酒店地址',
        phone: '电话号码',
        rating: 4,
        lat: 纬度,
        lng: 经度
    }
]
```

### 3. 景点信息
```javascript
tourData.attractions = [
    {
        id: 'attr-1',
        name: '景点名称',
        nameEn: '英文名称',
        address: '地址',
        description: '描述',
        highlights: ['亮点1', '亮点2'],
        lat: 纬度,
        lng: 经度,
        day: 1,  // 第几天
        order: 1,  // 当天顺序
        openingHours: '开放时间'
    }
]
```

### 4. 行程安排
```javascript
tourData.itinerary = [
    {
        day: 1,
        date: '2026年1月23日',
        title: '第1天标题',
        activities: [
            { time: '08:00', activity: '活动描述', location: '地点' }
        ],
        attractionIds: ['attr-1', 'attr-2']
    }
]
```

### 5. 提示信息
```javascript
tourData.tips = [
    {
        category: 'important',  // 或 'normal'
        icon: '🛂',
        text: '提示内容'
    }
]
```

### 6. 紧急联系方式
```javascript
tourData.emergencyContacts = [
    { name: '名称', phone: '电话号码' }
]
```

---

## 💡 提醒机制

### 页面顶部显示

页面顶部会显示：
```
📊 数据版本: v1.0.0 | 更新时间: 2026-01-21 21:30:00
💡 数据更新后请刷新页面 (F5 或 Ctrl+R)
```

### 如何知道数据已更新

1. **版本号变化** - 每次更新数据时修改版本号
2. **更新时间变化** - 显示最后更新时间
3. **内容变化** - 刷新后页面内容会更新

---

## 🚨 常见问题

### Q: 更新数据后页面没变化？
**A:** 请确保：
1. 保存了 data.js 文件
2. 刷新了浏览器页面（F5 或 Ctrl+R）
3. 如果还是没变化，尝试硬刷新（Ctrl+Shift+R）

### Q: 数据显示错误？
**A:** 检查 data.js 中的：
- JSON 格式是否正确（逗号、引号）
- 字段名称是否拼写正确
- 坐标格式是否正确（数字，不要字符串）

### Q: 需要我做什么？
**A:** 当您更新数据文件后：
1. 修改版本号和更新时间
2. 保存文件
3. 召唤我（Claude）帮忙检查和刷新页面

---

## 📞 召唤 Claude 检查数据

更新数据后，您可以说：

- "数据已更新，请帮我检查"
- "我更新了 data.js，请帮我刷新页面"
- "请检查一下数据是否正确"

Claude 会帮您：
1. 检查数据格式是否正确
2. 确认所有字段都已更新
3. 验证页面是否能正确显示

---

## 📝 版本历史示例

```javascript
// 版本 1.0.0 - 2026-01-21 21:30:00
// 初始版本，包含所有基本数据

// 版本 1.0.1 - 2026-01-21 22:00:00
// 更新了航班号 CZ6077/CZ6078

// 版本 1.0.2 - 2026-01-21 23:00:00
// 更新了酒店为胡志明新山一酒店

// 版本 1.1.0 - 2026-01-22 10:00:00
// 添加了3个新景点
```

---

**记住**: 每次更新数据后，记得修改版本号和时间，然后刷新页面！🔄
